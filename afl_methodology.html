<!DOCTYPE html>

<html lang="en" xml:lang="en">

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>AFL Model Methodology</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@400;700&display=swap" rel="stylesheet">

<script src="site_libs/header-attrs-2.7/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
<link href="site_libs/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-5.1.0/bootstrap.bundle.min.js"></script>
<script src="site_libs/bs3compat-0.3.1/transition.js"></script>
<script src="site_libs/bs3compat-0.3.1/tabs.js"></script>
<script src="site_libs/bs3compat-0.3.1/bs3compat.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/ionicons-2.0.1/css/ionicons.min.css" rel="stylesheet" />
<link rel="icon" href="favicon.ico" />
<link rel="manifest" href="manifest.json">
<link rel="apple-touch-icon" href="logo_192.png">
<meta name="theme-color" content="#670099">
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-L04L041MGC"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() { dataLayer.push(arguments); }
  gtag('js', new Date());
  gtag('config', 'G-L04L041MGC');
</script>
<script type="text/javascript">
  (function (c, l, a, r, i, t, y) {
    c[a] = c[a] || function () { (c[a].q = c[a].q || []).push(arguments) };
    t = l.createElement(r); t.async = 1; t.src = "https://www.clarity.ms/tag/" + i;
    y = l.getElementsByTagName(r)[0]; y.parentNode.insertBefore(t, y);
  })(window, document, "clarity", "script", "ae8a2litjx");
</script>

<link rel="stylesheet" href="custom.css" type="text/css" />
<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>





<!-- tabsets -->
<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}
.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}
.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}
.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}
.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}
.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}
.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}
.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->

</head>
<body>
<div class="container-fluid main-container container">

<nav id="nav" class="navbar navbar-expand-sm navbar-default fixed-top" role="navigation">
  <div class="container">
    <a class="navbar-brand" href="index.html"><img id="logo" style="height: 50px; width: 151px;" src="logo.png"
        alt="Wheelo Ratings logo" /></a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar"
      aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
          <a href="index.html">Home</a>
        </li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false">
            ATP Tennis
            <span class="caret"></span>
          </a>
          <ul class="dropdown-menu" role="menu">
            <li class="dropdown-header">RATINGS</li>
            <li>
              <a href="tennis_atp_ratings.html">Elo Ratings</a>
            </li>
            <li>
              <a href="tennis_atp_race.html">Elo Race</a>
            </li>
            <!-- <li>
              <a href="tennis_atp_ratings_by_year.html">End of year top 200</a>
            </li>
            <li>
              <a href="tennis_atp_ratings_by_year_top5.html">End of year top 5</a>
            </li> -->
            <li class="divider"></li>
            <li class="dropdown-header">STATISTICS</li>
            <li>
              <a href="tennis_atp_stats_last52.html">Player Stats - Last 52 Weeks</a>
            </li>
            <!-- <li class="divider"></li>
            <li class="dropdown-header">HISTORY</li>
            <li>
              <a href="tennis_atp_players.html">Players</a>
            </li>
            <li>
              <a href="tennis_atp_tournaments.html">Tournaments</a>
            </li> -->
            <li class="divider"></li>
            <li class="dropdown-header">RECORDS</li>
            <li>
              <a href="tennis_atp_records.html">Overall Records</a>
            </li>
            <li>
              <a href="tennis_atp_season_records.html">Season Records</a>
            </li>
            <li>
              <a href="tennis_atp_goat.html">Greatest players</a>
            </li>
          </ul>
        </li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false">
            WTA Tennis
            <span class="caret"></span>
          </a>
          <ul class="dropdown-menu" role="menu">
            <li class="dropdown-header">RATINGS</li>
            <li>
              <a href="tennis_wta_ratings.html">Elo Ratings</a>
            </li>
            <li>
              <a href="tennis_wta_race.html">Elo Race</a>
            </li>
            <!-- <li>
              <a href="tennis_wta_ratings_by_year.html">End of year top 200</a>
            </li>
            <li>
              <a href="tennis_wta_ratings_by_year_top5.html">End of year top 5</a>
            </li> -->
            <li class="divider"></li>
            <li class="dropdown-header">STATISTICS</li>
            <li>
              <a href="tennis_wta_stats_last52.html">Player Stats - Last 52 Weeks</a>
            </li>
            <!-- <li class="divider"></li>
            <li class="dropdown-header">HISTORY</li>
            <li>
              <a href="tennis_wta_players.html">Players</a>
            </li>
            <li>
              <a href="tennis_wta_tournaments.html">Tournaments</a>
            </li> -->
            <li class="divider"></li>
            <li class="dropdown-header">RECORDS</li>
            <li>
              <a href="tennis_wta_records.html">Overall Records</a>
            </li>
            <li>
              <a href="tennis_wta_season_records.html">Season Records</a>
            </li>
            <li>
              <a href="tennis_wta_goat.html">Greatest players</a>
            </li>
          </ul>
        </li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false">
            AFL
            <span class="caret"></span>
          </a>
          <ul class="dropdown-menu" role="menu">
            <li>
              <a href="afl_match_previews.html">Match Previews</a>
            </li>
            <li class="divider"></li>
            <li class="dropdown-header">MODEL</li>
            <li>
              <a href="afl_ratings.html">Ratings</a>
            </li>
            <li>
              <a href="afl_tipping.html">Tipping</a>
            </li>
            <li>
              <a href="afl_simulations.html">Simulations</a>
            </li>
            <li class="divider"></li>
            <li class="dropdown-header">STATISTICS</li>
            <li>
              <a href="afl_stats.html">Player Stats</a>
            </li>
            <li>
              <a href="afl_stats_team.html">Team Stats</a>
            </li>
            <li class="divider"></li>
            <li class="dropdown-header">RECORDS</li>
            <li>
              <a href="afl_premierships.html">Premierships</a>
            </li>
            <li>
              <a href="afl_annual_summary.html">Team Annual Summary</a>
            </li>
            <li>
              <a href="afl_record_against_finals_teams.html">Record Against Finals Teams</a>
            </li>
          </ul>
        </li>
        <li>
          <a href="about.html">About</a>
        </li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
          <a href="https://twitter.com/WheeloRatings">
            <span class="ion ion-social-twitter"></span>

          </a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<header id="header">


<h1 class="title toc-ignore">AFL Model Methodology</h1>

</header>


<main>
<!-- https://rpruim.github.io/s341/S19/from-class/MathinRmd.html -->
<div id="overview" class="section level2">
<h2>Overview</h2>
<div id="team-ratings" class="section level3">
<h3>Team ratings</h3>
<p>Each team has an attacking and defensive rating which gets updated following every match.</p>
<div id="expected-margin" class="section level4">
<h4>Expected Margin</h4>
<p><span class="math display">\[\text{Expected Margin} = (\text{Att}_h + \text{Def}_h) - (\text{Att}_a + \text{Def}_a) + \text{Venue}\]</span> Where <span class="math inline">\(\text{Att}_h\)</span> denotes the <em>attacking</em> rating of the designated home team, <span class="math inline">\(\text{Def}_h\)</span> denotes the <em>defensive</em> rating of the designated home team, <span class="math inline">\(\text{Att}_a\)</span> denotes the <em>attacking</em> rating of the designated away team, <span class="math inline">\(\text{Def}_a\)</span> denotes the <em>defensive</em> rating of the designated away team, and <span class="math inline">\(\text{Venue}\)</span> denotes the net venue effect.</p>
</div>
<div id="updating-team-ratings-following-a-match" class="section level4">
<h4>Updating team ratings following a match</h4>
<p>These ratings are updated following each match based on the <em>adjusted</em> margin compared to the <em>expected</em> margin. The adjusted margin is</p>
<div id="attacking-rating" class="section level5">
<h5>Attacking rating</h5>
<p>Each team’s attacking rating is updated based on their <em>adjusted</em> score compared to their <em>expected</em> score. <span class="math display">\[\text{New attacking rating} = \text{Att}_h + k_t(\text{Adjusted}_h-\text{Expected}_h)\]</span></p>
</div>
<div id="defensive-rating" class="section level5">
<h5>Defensive rating</h5>
<p>Each team’s defensive rating is updated based their opponent’s <em>adjusted</em> score compared to their opponent’s <em>expected</em> score. <span class="math display">\[\text{New defensive rating} = \text{Def}_h - k_t(\text{Adjusted}_a-\text{Expected}_a)\]</span></p>
</div>
</div>
</div>
</div>
<div id="venue-advantage" class="section level2">
<h2>Venue advantage</h2>
<p>Venue advantage is based on the following four factors:</p>
<ul>
<li>travel distances for the two teams;</li>
<li>number of matches the teams have played at the particular venue over the past five seasons;</li>
<li>a constant home advantage which applies to all matches, with the exception of Grand Finals, where the designated home team is playing in its home state; and</li>
<li>historical performance of the teams at the particular venue compared to expected performance.</li>
</ul>
<p><span class="math display">\[\text{Venue}=\text{Travel}+\text{Venue Experience}+\text{Home Advantage}+\text{Venue Performance}\]</span> <span class="math display">\[\text{Travel}=k \cdot ({\text{Travel}_h}^w - {\text{Travel}_a}^w)\]</span> Where <span class="math inline">\(\text{Travel}_h\)</span> and <span class="math inline">\(\text{Travel}_a\)</span> are the travel distances in kilometres for the home and away teams, respectively.</p>
<p><span class="math display">\[\text{Venue Experience}=k \cdot (({\text{Matches}_h + c})^w - ({\text{Matches}_a} + c)^w)\]</span> Where <span class="math inline">\(\text{Matches}_h\)</span> and <span class="math inline">\(\text{Matches}_a\)</span> are the numbers of matches played at the venue in the past five years by the home and away teams, respectively.</p>
</div>
<div id="incorporating-player-information" class="section level2">
<h2>Incorporating player information</h2>
<p>The official AFL Player Ratings are used to supplement the Team Ratings in order to obtain an improved prediction based on the named team lineups for the two teams. Detailed information on the AFL Player Ratings can be found below.</p>
<p>For the purpose of this model, a player’s estimated rating for a match is calculated using a weighted average of their rating in previous matches with their latest match carrying the greatest weight. The estimated rating for all players listed in the team lineups are aggregated for each team.</p>
<p><span class="math display">\[\text{Expected Margin}_p=w_s \cdot ((\text{Att}_h + \text{Def}_h) - (\text{Att}_a + \text{Def}_a)) + w_p \cdot (\text{Player Rating}_h - \text{Player Rating}_a) + \text{Venue}\]</span> Where <span class="math inline">\(\text{Player Rating}_h\)</span> and <span class="math inline">\(\text{Player Rating}_a\)</span> are the totals of the estimated player ratings for the home and away teams, respectively.</p>
<div id="afl-player-ratings" class="section level3">
<h3>AFL Player Ratings</h3>
<ul>
<li><a href="https://s.afl.com.au/staticfile/AFL%20Tenant/AFL/PlayerRatings/PlayerRatings_HOW.pdf">AFL Player Ratings Overview</a></li>
<li><a href="https://researchbank.swinburne.edu.au/file/248ec147-72d7-448c-a19d-49f01d90b12f/1/Karl%20Jackson%20Thesis.pdf">Assessing Player Performance in Australian Football Using Spatial Data (Karl Jackson thesis)</a></li>
</ul>
</div>
</div>
</main>

<footer>
    <!-- <br> -->
    <!-- <div class="addthis_inline_share_toolbox"></div>
    <!-- Go to www.addthis.com/dashboard to customize your tools -->
    <!-- <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=wheels83"></script> -->
    <!-- &nbsp; -->
    <hr />
    <p style="text-align: center;"><a href="#top">Back to top</a></p>
    <p style="text-align: center;">Copyright &copy; 2021 Wheelo Ratings All rights reserved.</p>
</footer>



</div>

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

<script type="text/javascript">
// manage active state of menu based on current page
(function() {
  // active menu anchor
  href = window.location.pathname;
  href = href.substr(href.lastIndexOf('/') + 1);
  if (href === "")
    href = "index.html";
  const menuAnchor = document.getElementById("navbar").querySelectorAll('[href="' + href + '"]')[0];

  const li = menuAnchor.closest('li');
  li.classList.add('active');
  
  const parent = li.parentElement.closest('li')
  
  if (parent !== null)
    parent.classList.add('active');
})();
</script>
<!-- <script>
var prevScrollpos = window.pageYOffset;
window.onscroll = function() {
var currentScrollPos = window.pageYOffset;
  if (prevScrollpos > currentScrollPos) {
    document.getElementById("nav").style.top = "0";
  } else {
    document.getElementById("nav").style.top = "-60px";
  }
  prevScrollpos = currentScrollPos;
}
</script> -->
</body>
</html>
